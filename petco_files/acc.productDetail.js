ACC.productDetail={_autoload:["initPageEvents","bindVariantOptions"],checkQtySelector:function(self,mode){var input=$(self).parents(".js-qty-selector").find(".js-qty-selector-input");var inputVal=parseInt(input.val());var max=input.data("max");var minusBtn=$(self).parents(".js-qty-selector").find(".js-qty-selector-minus");var plusBtn=$(self).parents(".js-qty-selector").find(".js-qty-selector-plus");var plusBtnSticky=$(".input-group-btn").find(".js-qty-selector-plus-sticky");var minusBtnSticky=$(".input-group-btn").find(".js-qty-selector-minus-sticky");$(self).parents(".js-qty-selector").find(".btn").removeAttr("disabled");$(".qty-selector.input-group.js-qty-selector.cantidad-detail-sticky").find(".btn").removeAttr("disabled");if(mode=="minus"){if(inputVal!=1){ACC.productDetail.updateQtyValue(self,inputVal-1)
if(inputVal-1==1){minusBtn.attr("disabled","disabled");minusBtnSticky.attr("disabled","disabled");}}else{minusBtn.attr("disabled","disabled");minusBtnSticky.attr("disabled","disabled");}}else if(mode=="reset"){ACC.productDetail.updateQtyValue(self,1)}else if(mode=="plus"){if(max=="FORCE_IN_STOCK"){ACC.productDetail.updateQtyValue(self,inputVal+1)}else if(inputVal<=max){ACC.productDetail.updateQtyValue(self,inputVal+1)
if(inputVal+1==max){plusBtn.attr("disabled","disabled");plusBtnSticky.attr("disabled","disabled");}}else{plusBtn.attr("disabled","disabled");plusBtnSticky.attr("disabled","disabled");}}else if(mode=="input"){if(inputVal==1){minusBtn.attr("disabled","disabled");minusBtnSticky.attr("disabled","disabled");}else if(max=="FORCE_IN_STOCK"&&inputVal>0){ACC.productDetail.updateQtyValue(self,inputVal)}else if(inputVal==max){plusBtn.attr("disabled","disabled");plusBtnSticky.attr("disabled","disabled");}else if(inputVal<1){ACC.productDetail.updateQtyValue(self,1)
minusBtn.attr("disabled","disabled");minusBtnSticky.attr("disabled","disabled");}else if(inputVal>max){ACC.productDetail.updateQtyValue(self,max)
plusBtn.attr("disabled","disabled");plusBtnSticky.attr("disabled","disabled");}}else if(mode=="focusout"){if(isNaN(inputVal)){ACC.productDetail.updateQtyValue(self,1);minusBtn.attr("disabled","disabled");minusBtnSticky.attr("disabled","disabled");}else if(inputVal>=max){plusBtn.attr("disabled","disabled");plusBtnSticky.attr("disabled","disabled");}}
input=$(self).parents(".js-qty-selector").find(".js-qty-selector-input");$(".js-qty-selector-input-sticky").val(parseInt(input.val()));},updateQtyValue:function(self,value){var input=$(self).parents(".js-qty-selector").find(".js-qty-selector-input");var addtocartQty=$(self).parents(".addtocart-component").find("#addToCartForm").find(".js-qty-selector-input");var configureQty=$(self).parents(".addtocart-component").find("#configureForm").find(".js-qty-selector-input");input.val(value);addtocartQty.val(value);configureQty.val(value);$(".js-qty2-selector-input").val(input.val());},initPageEvents:function(){$(document).on("click",'.js-qty-selector .js-qty-selector-minus',function(){ACC.productDetail.checkQtySelector(this,"minus");})
$(document).on("click",'.js-qty-selector .js-qty-selector-plus',function(){ACC.productDetail.checkQtySelector(this,"plus");})
$(document).on("keydown",'.js-qty-selector .js-qty-selector-input',function(e){if(($(this).val()!=" "&&((e.which>=48&&e.which<=57)||(e.which>=96&&e.which<=105)))||e.which==8||e.which==46||e.which==37||e.which==39||e.which==9){}
else if(e.which==38){ACC.productDetail.checkQtySelector(this,"plus");}
else if(e.which==40){ACC.productDetail.checkQtySelector(this,"minus");}
else{e.preventDefault();}})
$(document).on("keyup",'.js-qty-selector .js-qty-selector-input',function(e){ACC.productDetail.checkQtySelector(this,"input");ACC.productDetail.updateQtyValue(this,$(this).val());})
$(document).on("focusout",'.js-qty-selector .js-qty-selector-input',function(e){ACC.productDetail.checkQtySelector(this,"focusout");ACC.productDetail.updateQtyValue(this,$(this).val());})
$(document).on('change','#js-option-select-qty',function(){$('.js-qty-selector-input').val($(this).val());});$("#Size").change(function(){changeOnVariantOptionSelection($("#Size option:selected"));});$("#variant").change(function(){changeOnVariantOptionSelection($("#variant option:selected"));});$("#variantSticky").change(function(){changeOnVariantOptionSelection($("#variantSticky option:selected"));});$(".selectPriority").change(function(){window.location.href=$(this[this.selectedIndex]).val();});function changeOnVariantOptionSelection(optionSelected){window.location.href=optionSelected.attr('value');}},bindVariantOptions:function(){ACC.productDetail.bindCurrentStyle();ACC.productDetail.bindCurrentSize();ACC.productDetail.bindCurrentType();},bindCurrentStyle:function(){var currentStyle=$("#currentStyleValue").data("styleValue");var styleSpan=$(".styleName");if(currentStyle!=null){styleSpan.text(": "+currentStyle);}},bindCurrentSize:function(){var currentSize=$("#currentSizeValue").data("sizeValue");var sizeSpan=$(".sizeName");if(currentSize!=null){sizeSpan.text(": "+currentSize);}},bindCurrentType:function(){var currentSize=$("#currentTypeValue").data("typeValue");var sizeSpan=$(".typeName");if(currentSize!=null){sizeSpan.text(": "+currentSize);}}};ACC.productDescription={separaCadena:function(){var cadena=$("#descripcion").val();if(typeof cadena!='undefined'){if(cadena.indexOf('^')!=-1){var posicion=cadena.indexOf('^');var porcion=cadena.substring(posicion+2,cadena.length);var atributos=porcion.split('|');var parrafoCadena=cadena.substring(cadena,posicion);$("#parrafo").append('<p></p>');$("#parrafo > p").append(parrafoCadena);$('#tabla').append('<table>');for(var i=0;i<=atributos.length-2;i++){$('#tabla').append('<tr><td class="tds">'
+atributos[i].replace('=','</td><td>')
+'</td></tr>');}
$('#tabla').append('</table>');}else{$("#parrafo").append('<p></p>');$("#parrafo > p").append(cadena);}}},longDescription:function(){var description=$("#longDescription").val();if(typeof description!='undefined'){var tabla1=$('.tabs-responsive .content').children('.tabbody')[0];var tabla=$('.tabs-responsive .content').children('.tabbody')[1];$(tabla1).css('display','none');$(tabla).css('display','block');$("#accessibletabsnavigation0-0").removeClass("current");$("#accessibletabsnavigation0-1").addClass("current");$("#accessibletabsnavigation0-0").css('display','none ');$("#parrafo").css('display','none ');var i,j,x=0;var parrafoLista="";var parrafo="";var tabla="";var analisis="";var ingredientes="";var separador=' ';var arrayDescription=description.split("^");if(arrayDescription.length==1){}
else{$("#originalDescription").hide();$("#originalDescriptionTable").hide();$("#originalProductIngredientes").hide();for(i=0;i<arrayDescription.length;i++){switch(i){case 0:parrafo+="<div id='clave'>";var titleLD=arrayDescription[0];parrafo+="</div>";break;case 1:parrafo+="<div id='titleDescription' class='col-xs-12'> ";parrafo+=arrayDescription[i];parrafo+="</div>";break;case 2:parrafo+="<div id='bullets' class='col-xs-12'><ul> ";parrafoLista=arrayDescription[i].split('|');for(j=0;j<parrafoLista.length-1;j++){if(parrafoLista[j].length>1){parrafo+="<li>"+parrafoLista[j];+"</li><br>";}}
parrafo+="</ul>";break;case 3:tabla+="<div id='parrafo4Des' class='col-xs-12'> ";parrafoLista=arrayDescription[i].split('|');tabla+="<div class='col-xs-12 col-sm-12'>";tabla+="<table>";for(k=0;k<parrafoLista.length;k++)
{tabla+="<tr>";tabla+="<td class=\"attrib grig-bran\">"+parrafoLista[k].split(":")[0]+"</td><td class=\"colorFuent\">"+parrafoLista[k].split(":")[1]+"</td>";tabla+="</tr>";}
tabla+="</table>";break;case 4:ingredientes+="<div id='ingredientes'> ";ingredientes+="<div class='ingredientes'>"+arrayDescription[i].substring(0,12)+"</div>";ingredientes+=arrayDescription[i].substring(arrayDescription[i].indexOf(":")+1,arrayDescription[i].length);ingredientes+="</div></br>";break;case 5:analisis+="<div id='analisis'> ";analisis+="<div class='analisis'>"+arrayDescription[i].substring(0,20)+"</div>";analisis+=arrayDescription[i].substring(arrayDescription[i].indexOf(":")+1,arrayDescription[i].length);analisis+="</div>";break;}}}
$("#prfLongDescription").append(parrafo);$("#tablaDescription").append(tabla);$("#ingredientesDescription").append(ingredientes);$("#analisisDescription").append(analisis);}}};ACC.popInformativo={_autoload:["bindPopup"],bindPopup:function(){var content=$("#buffaloModal").html();var brand=$("#brand").val();if(brand=='Blue-Buffalo'||brand=='Blue Buffalo'){ACC.colorbox.open($(this).data("cboxTitle"),{href:$(this).data("link"),close:'<span class="glyphicon glyphicon-remove"></span>',maxWidth:900,width:'100%',title:'<span class="espacio"></span>',height:false,html:content,overlayClose:true,});};}};$(document).ready(function(){ACC.productDescription.separaCadena();ACC.productDescription.longDescription();});